{"ast":null,"code":"function getRundomNumber(min,max){return Math.floor(Math.random()*(max-min+1))+min;}function generateMines(sizeMinefieldX,sizeMinefieldY,mines){var sizeMinefield=sizeMinefieldX*sizeMinefieldY-1;var numOfMine=mines;var mineField=[];for(var y=0;y<sizeMinefieldY;y++){mineField[y]=[];for(var x=0;x<sizeMinefieldX;x++){mineField[y][x]=0;}}while(numOfMine!==0){var mine=getRundomNumber(0,sizeMinefield);var mineY=Math.trunc(mine/sizeMinefieldX);var mineX=mine-mineY*sizeMinefieldX;if(mineField[mineY][mineX]!==-1){mineField[mineY][mineX]--;numOfMine--;}}return mineField;}function setMineCntainer(mineField,sizeMinefieldX,sizeMinefieldY){var arr=mineField;for(var y=0;y<sizeMinefieldY;y++){for(var x=0;x<sizeMinefieldX;x++){if(arr[y][x]!==-1){if(arr[y][x+1]===-1)arr[y][x]++;if(arr[y][x-1]===-1)arr[y][x]++;if(y!==0){if(arr[y-1][x]===-1)arr[y][x]++;if(arr[y-1][x-1]===-1)arr[y][x]++;if(arr[y-1][x+1]===-1)arr[y][x]++;}if(y!==sizeMinefieldY-1){if(arr[y+1][x]===-1)arr[y][x]++;if(arr[y+1][x-1]===-1)arr[y][x]++;if(arr[y+1][x+1]===-1)arr[y][x]++;}}}}return arr;}function generateField(sizeMineFieldX,sizeMineFieldY,mines){var mineField=generateMines(sizeMineFieldX,sizeMineFieldY,mines);return setMineCntainer(mineField,sizeMineFieldX,sizeMineFieldY);}export default function generateFieldMine(sizeMineFieldX,sizeMineFieldY,mines){var mineField=generateField(sizeMineFieldX,sizeMineFieldY,mines);return mineField.map(function(row){return row.map(function(cell){var caption=cell;if(caption===0)caption=\"\\xA0\";if(caption===-1)caption='*';return{cap:caption,disabled:false,lock:false,children:\"\\xA0\"};});});}","map":{"version":3,"sources":["/home/batteryfree/HW-5/src/generator-field-min.js"],"names":["getRundomNumber","min","max","Math","floor","random","generateMines","sizeMinefieldX","sizeMinefieldY","mines","sizeMinefield","numOfMine","mineField","y","x","mine","mineY","trunc","mineX","setMineCntainer","arr","generateField","sizeMineFieldX","sizeMineFieldY","generateFieldMine","map","row","cell","caption","cap","disabled","lock","children"],"mappings":"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","sourcesContent":["function getRundomNumber(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction generateMines(sizeMinefieldX, sizeMinefieldY, mines) {\n    const sizeMinefield = (sizeMinefieldX * sizeMinefieldY) - 1;\n    let numOfMine = mines;\n    const mineField = [];\n\n    for (let y = 0; y < sizeMinefieldY; y++) {\n        mineField[y] = [];\n        for (let x = 0; x < sizeMinefieldX; x++) {\n            mineField[y][x] = 0;\n        }\n    }\n\n    while (numOfMine !== 0) {\n        const mine = getRundomNumber(0, sizeMinefield);\n        const mineY = Math.trunc(mine / sizeMinefieldX);\n        const mineX = mine - mineY * sizeMinefieldX;\n        if (mineField[mineY][mineX] !== -1) {\n            mineField[mineY][mineX]--;\n            numOfMine--;\n        }\n    }\n    return mineField;\n}\n\nfunction setMineCntainer(mineField, sizeMinefieldX, sizeMinefieldY) {\n    const arr = mineField;\n    for (let y = 0; y < sizeMinefieldY; y++) {\n        for (let x = 0; x < sizeMinefieldX; x++) {\n            if (arr[y][x] !== -1) {\n                if (arr[y][x + 1] === -1) arr[y][x]++;\n                if (arr[y][x - 1] === -1) arr[y][x]++;\n                if (y !== 0) {\n                    if (arr[y - 1][x] === -1) arr[y][x]++;\n                    if (arr[y - 1][x - 1] === -1) arr[y][x]++;\n                    if (arr[y - 1][x + 1] === -1) arr[y][x]++;\n                }\n                if (y !== sizeMinefieldY - 1) {\n                    if (arr[y + 1][x] === -1) arr[y][x]++;\n                    if (arr[y + 1][x - 1] === -1) arr[y][x]++;\n                    if (arr[y + 1][x + 1] === -1) arr[y][x]++;\n                }\n            }\n        }\n    }\n    return arr;\n}\n\nfunction generateField(sizeMineFieldX, sizeMineFieldY, mines) {\n    const mineField = generateMines(sizeMineFieldX, sizeMineFieldY, mines);\n    return setMineCntainer(mineField, sizeMineFieldX, sizeMineFieldY);\n}\n\nexport default function generateFieldMine(sizeMineFieldX, sizeMineFieldY, mines) {\n    const mineField = generateField(sizeMineFieldX, sizeMineFieldY, mines);\n\n    return mineField.map((row) => row.map((cell) => {\n        let caption = cell;\n        if (caption === 0) caption = '\\u00A0';\n        if (caption === -1) caption = '*';\n        return {\n            cap: caption,\n            disabled: false,\n            lock: false,\n            children: '\\u00A0',\n        };\n    }));\n}\n"]},"metadata":{},"sourceType":"module"}